(this.webpackJsonpworkoutlog=this.webpackJsonpworkoutlog||[]).push([[0],{154:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(18),c=a.n(s),o=a(10),i=a(11),l=a(13),u=a(12),d=a(45),m=a.n(d),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{"data-testid":"header",className:m.a.headerContainer},r.a.createElement("h1",{"data-testid":"heading",className:m.a.headerLogoName},r.a.createElement("span",{className:m.a.headerLogoNameHighlight},"Workout")," Log"))}}]),a}(r.a.Component),p=a(4),f=a(17),b=a(73),x=a.n(b),v=a(59),E=a(160),O=a(74),g=/(\d{2}):(\d{2}):(\d{2})/,y=function(e){var t=function(e){var t=e.match(g),a=Object(v.a)(t,4),n=a[1],r=a[2],s=a[3];n=parseInt(n),r=parseInt(r);var c=(s=parseInt(s))%60,o=Math.floor(s/60)+r%60;return[Math.floor(r/60)+n,o,c]}(e),a=Object(v.a)(t,3),n=a[0],r=a[1],s=a[2];return n>99&&(n=99),{timeString:function(e,t,a){return[e,t,a].reduce((function(e,t){return e+t.toString().padStart(2,"0")+":"}),"").slice(0,8)}(n,r,s),seconds:60*n*60+60*r+s}},j=function(e){var t=Object(E.a)({start:0,end:1e3*e}),a=Object(O.a)(t);return a||"0 hour"},_=a(75),C=a.n(_),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:"00:00:00",mask:"99:99:99",maskPlaceholder:"0"},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleChange",value:function(e){var t=y(e.target.value),a=t.timeString,n=t.seconds;this.props.onChangeTime({time:a,seconds:n}),this.setState({value:a})}},{key:"render",value:function(){return r.a.createElement(x.a,Object.assign({},this.state,{id:this.props.id,"data-testid":this.props.testId,onKeyUp:this.handleChange,onChange:this.handleChange,className:"".concat(this.props.className," ").concat(C.a.timePicker)}))}}]),a}(r.a.Component),S=a(78),k=a.n(S),w=a(28),I=a(77),T=function(e){return e.exercises},F=function(e){return e.exercises},M=(a(100),a(7)),P=a.n(M),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={exercise:{date:"",seconds:0,type:""},errors:{}},n.onChangeDate=n.onChangeDate.bind(Object(f.a)(n)),n.onChangeTime=n.onChangeTime.bind(Object(f.a)(n)),n.onChangeType=n.onChangeType.bind(Object(f.a)(n)),n.onSubmitForm=n.onSubmitForm.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchExercisesOptions()}},{key:"onSubmitForm",value:function(e){e.preventDefault();var t=function(e){var t,a=e.exercise,n=e.exercisesOptions,r={seconds:null,type:null,date:null};return 0===(null===a||void 0===a?void 0:a.seconds)||void 0===(null===a||void 0===a?void 0:a.seconds)?r.seconds="Please inform a time":r.seconds=null,(null===n||void 0===n?void 0:n.includes(null===a||void 0===a?void 0:a.type))?r.type=null:r.type="Please select an exercise",null==(null===a||void 0===a?void 0:a.date)||0===(null===a||void 0===a||null===(t=a.date)||void 0===t?void 0:t.length)?r.date="Please select a date":r.date=null,{errors:r,isValid:0===Object.values(r).filter((function(e){return null!==e})).length}}({exercise:this.state.exercise,exercisesOptions:this.props.exercisesOptions}),a=t.errors,n=t.isValid;this.setState(Object(p.a)(Object(p.a)({},this.state),{},{errors:a})),n&&this.props.addExercise(this.state.exercise)}},{key:"onChangeTime",value:function(e){var t=e.seconds;this.setState(Object(p.a)(Object(p.a)({},this.state),{},{exercise:Object(p.a)(Object(p.a)({},this.state.exercise),{},{seconds:t})}))}},{key:"onChangeType",value:function(e){this.setState(Object(p.a)(Object(p.a)({},this.state),{},{exercise:Object(p.a)(Object(p.a)({},this.state.exercise),{},{type:e.target.value})}))}},{key:"onChangeDate",value:function(e){this.setState(Object(p.a)(Object(p.a)({},this.state),{},{exercise:Object(p.a)(Object(p.a)({},this.state.exercise),{},{date:e})}))}},{key:"render",value:function(){var e=this.props.exercisesOptions.map((function(e,t){return r.a.createElement("option",{key:"".concat(e,"-").concat(t),value:e},e)}));return r.a.createElement("section",{"data-testid":"exercise-form",className:P.a.addExerciseContainer},r.a.createElement("form",{className:P.a.addExerciseForm,onSubmit:this.onSubmitForm},r.a.createElement("div",{"data-testid":"time-container",className:P.a.formGroup},r.a.createElement("label",{className:P.a.formLabel,htmlFor:"timePicker"},"Time spent"),r.a.createElement(N,{id:"timePicker",testId:"seconds-input",title:"Type a quantity of spent in this exercise",placeholder:"00:55:00",value:this.state.exercise.seconds,className:P.a.formInput,onChangeTime:this.onChangeTime}),r.a.createElement("span",{className:P.a.inputError},this.state.errors.seconds)),r.a.createElement("div",{"data-testid":"exercise-type-container",className:P.a.formGroup},r.a.createElement("label",{className:P.a.formLabel,htmlFor:"selectExercise"},"Select an exercise"),r.a.createElement("select",{id:"selectExercise",title:"Select an exercise type to this exercise","data-testid":"exercise-type",className:P.a.formSelect,value:this.state.exercise.type,onChange:this.onChangeType},r.a.createElement("option",null,"Select an option"),this.props.exercisesOptions&&this.props.exercisesOptions.length>0&&e),r.a.createElement("span",{className:P.a.inputError},this.state.errors.type)),r.a.createElement("div",{className:P.a.formGroup},r.a.createElement("label",{className:P.a.formLabel,htmlFor:"datePicker"},"Select a date"),r.a.createElement(k.a,{id:"datePicker",title:"Inform a date of when this exercise occurred",dateFormat:"dd/MM/yyyy",selected:this.state.exercise.date,onChange:this.onChangeDate,className:P.a.formInput,placeholderText:"dd/mm/yyyy",showDisabledMonthNavigation:!0,autoComplete:"off"}),r.a.createElement("span",{className:P.a.inputError},this.state.errors.date)),r.a.createElement("div",{className:"".concat(P.a.formGroup," ").concat(P.a.formGroup05)},r.a.createElement("button",{className:"".concat(P.a.submitButton," ").concat(P.a.submitButtonMarginTop),onClick:this.onSubmitForm},"Add"))))}}]),a}(r.a.Component);D.defaultProps={exercisesOptions:[]};var B=Object(w.b)((function(e){return{exercisesOptions:function(e){return F(e)?F(e).exercisesOptions:[]}(e)}}),(function(e){return{addExercise:function(t){e(function(e){return{type:"ADD_EXERCISE",payload:{exercise:Object(p.a)({id:Object(I.v4)()},e)}}}(t))},fetchExercisesOptions:function(){e({type:"FETCH_EXERCISES_OPTIONS",payload:{}})}}}))(D),L=a(81),R=a.n(L),G=a(158),A=a(35),H=a.n(A),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).columns=[{name:"Time",selector:"seconds",sortable:!0,cell:function(e){var t=e.seconds;return r.a.createElement("span",null," ",j(t))}},{name:"Type",selector:"type",sortable:!0},{name:"Date",selector:"date",sortable:!0,cell:function(e,t){var a=e.date;return r.a.createElement("span",null,Object(G.default)(new Date(a),"dd/MM/yyyy"))}},{button:!0,cell:function(t){var a=t.id;return r.a.createElement("button",{className:H.a.removeExerciseButton,onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&e.props.removeExercise(a)}},"Delete")}}],e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.exercises.reduce((function(e,t){return t.seconds+e}),0),t=j(e),a=r.a.createElement("section",{className:H.a.headerContainer},r.a.createElement("h2",{className:H.a.headingPrincipal},"Exercise History"),r.a.createElement("h3",{className:H.a.headingSecondary},t," of exercises"));return r.a.createElement("section",{"data-testid":"exercise-table"},a,r.a.createElement(R.a,{noHeader:!0,columns:this.columns,data:this.props.exercises,defaultSortField:"date",pagination:!0}))}}]),a}(r.a.Component);X.defaultProps={exercises:[]};var V=Object(w.b)((function(e){return{exercises:function(e){return T(e)?T(e).exercises:[]}(e)}}),(function(e){return{removeExercise:function(t){e(function(e){return{type:"REMOVE_EXERCISE",payload:{id:e}}}(t))}}}))(X),J=(a(154),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(h,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(B,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(V,null))))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(24),q=a(85),Y={exercises:[],exercisesOptions:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXERCISE":var a=t.payload.exercise,n=[].concat(Object(q.a)(e.exercises),[a]);return Object(p.a)(Object(p.a)({},e),{},{exercises:n});case"REMOVE_EXERCISE":var r=t.payload.id,s=e.exercises.filter((function(e){return e.id!==r}));return Object(p.a)(Object(p.a)({},e),{},{exercises:s});case"FETCH_EXERCISES_OPTIONS":var c=["run","swim","cardio","walk"];return Object(p.a)(Object(p.a)({},e),{},{exercisesOptions:c});default:return e}},U=Object(W.b)({exercises:Q}),K=function(e){return Object(p.a)(Object(p.a)({},e),{},{date:new Date(e.date)})},$=Object(W.c)(U,function(){try{var e=localStorage.getItem("workoutlog");if(null===e)return;var t=JSON.parse(e),a=t.exercises.exercises.map(K);return Object(p.a)(Object(p.a)({},t),{},{exercises:{exercises:a}})}catch(n){return}}());$.subscribe((function(){!function(e){try{localStorage.setItem("workoutlog",JSON.stringify(e))}catch(t){console.error("Could not save the state into the localStorage, The following exceptions was raised ".concat(t))}}({exercises:$.getState().exercises})}));var z=$;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w.a,{store:z},r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={headerContainer:"exercisetable_headerContainer__aRUiW",headingPrincipal:"exercisetable_headingPrincipal__33FOs",headingSecondary:"exercisetable_headingSecondary__1QYYI",removeExerciseButton:"exercisetable_removeExerciseButton__17vAY"}},45:function(e,t,a){e.exports={headerContainer:"header_headerContainer__1x7sO",headerLogoName:"header_headerLogoName__2qOO2",headerLogoNameHighlight:"header_headerLogoNameHighlight__3R13f"}},7:function(e,t,a){e.exports={addExerciseContainer:"exerciseform_addExerciseContainer__2INO6",addExerciseForm:"exerciseform_addExerciseForm__IV6Hc",formGroup:"exerciseform_formGroup__AXuBr",formLabel:"exerciseform_formLabel__2av6M",formGroup05:"exerciseform_formGroup05__1bslb",formInput:"exerciseform_formInput__3ROyF",formSelect:"exerciseform_formSelect__1kC4w",submitButton:"exerciseform_submitButton__2AqjR",submitButtonMarginTop:"exerciseform_submitButtonMarginTop__2vkTx",inputError:"exerciseform_inputError__1QuMy"}},75:function(e,t,a){},87:function(e,t,a){e.exports=a(155)}},[[87,1,2]]]);
//# sourceMappingURL=main.20f668ac.chunk.js.map